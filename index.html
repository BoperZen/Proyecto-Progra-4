<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Plantilla de Proyecto Web</title>
  <link rel="stylesheet" href="styles/style.css" />
  <link href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css" rel="stylesheet">
  
  <!-- Vue.js CDN -->
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>

<body>
  <!-- NAVBAR -->
  <nav class="navbar">
    <div class="navbar-container">
      <!-- Logo/Brand -->
      <div class="navbar-brand" href="index.html">
        <a href="#" class="brand-link">
          <img src="assets/img/logo-2.png" alt="Logo" class="brand-logo">
        </a>
      </div>

      <!-- Navigation Links -->
      <div class="navbar-menu" id="navbar-menu">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a href="#inicio" aria-current="page" class="nav-link active">Home</a>
          </li>
          <li class="nav-item">
            <a href="htmls/vehiculos.html" class="nav-link">Vehículos</a>
          </li>
          <li class="nav-item">
            <a href="htmls/contacto.html" class="nav-link">Contacto</a>
          </li>
          <li class="nav-item">
            <a href="htmls/reservacion.html" class="nav-link">Reservas</a>
          </li>
          <li class="nav-item">
            <a href="htmls/historia.html" class="nav-link">Historia</a>
          </li>
          <li class="nav-item">
            <a href="htmls/acerca.html" class="nav-link">Acerca</a>
          </li>
        </ul>
      </div>

      <!-- Mobile Menu Toggle -->
      <button class="navbar-toggle" onclick="toggleMobileMenu()" aria-label="Abrir menú">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
      </button>
    </div>
  </nav>

  <!-- CONTENEDOR PRINCIPAL -->
  <div class="container" id="app">
    
    <!-- HERO SECTION -->
    <section id="inicio" class="hero-section">
      <div class="hero-background">
        <img src="assets/img/img-car-1.jpg" alt="Vehículo de alquiler" class="hero-image">
        <div class="hero-overlay"></div>
      </div>
      <div class="hero-content">
        <h1 class="hero-title">
          Alquiler de autos en 
          <span class="highlight-text">Costa Rica</span>
        </h1>
        <h2 class="hero-subtitle">
          <span class="highlight-text">Why not</span> Rent a Car es la empresa con las mejores tarifas para renta de autos en Costa Rica
        </h2>
        <p class="hero-description">
          La compañía local de alquiler de carros más grande de Costa Rica con la mejor flota, desde 1990.
        </p>
        <a href="#reservaciones" class="reserva-btn" style="margin-top: 1.5rem; text-decoration: none; display: inline-block;">Reservar ahora</a>
      </div>
    </section>

    <!-- CONTENIDO PRINCIPAL -->
    <main class="main-content">

      <!-- SECCIÓN 1: POR QUÉ NOSOTROS -->
      <section id="porque-nosotros" class="example-section">
        <div class="section-content">
          <h2>¿Por qué rentar con nosotros?</h2>
          
          <!-- Beneficios en fila -->
          <div class="benefits-row">
            <div class="benefit-item">
              <div class="benefit-image">
                <img src="assets/img/suv.png" alt="Flota moderna">
              </div>
              <div class="benefit-text">
                <p>Vehículos nuevos y bien mantenidos<br>para tu seguridad y comodidad</p>
              </div>
            </div>
            
            <div class="benefit-item">
              <div class="benefit-image">
                                <img src="assets/img/money.png" alt="Precios competitivos">
              </div>
              <div class="benefit-text">
                <p>Tarifas competitivas sin costos ocultos<br>Transparencia total</p>
              </div>
            </div>
            
            <div class="benefit-item">
              <div class="benefit-image">
                                <img src="assets/img/24-hours-support.png" alt="Soporte 24/7">
              </div>
              <div class="benefit-text">
                <p>Atención al cliente las 24 horas<br>para resolver cualquier eventualidad</p>
              </div>
            </div>
            
            <div class="benefit-item">
              <div class="benefit-image">
                <img src="assets/img/map.png" alt="Cobertura nacional">
              </div>
              <div class="benefit-text">
                <p>Oficinas en todo Costa Rica<br>para tu conveniencia</p>
              </div>
            </div>
          </div>
        </div>
      </section>
      
      <!-- SECCIÓN 2: UBICACIÓN -->
      <section id="ubicaciones-destinos" class="ubicaciones-section">
        <div class="ubicaciones-content">
          <h2 class="ubicaciones-title">Nuestra ubicación en el mapa</h2>
          <p class="ubicaciones-description">
            Ya sea que desee explorar las hermosas playas de Guanacaste, descubrir los tesoros naturales como Manuel Antonio, el Volcán Arenal o Monteverde, o simplemente 
            disfrutar con familia y amigos, siempre encontrará una oficina de alquiler de Why Not Rent a Car con una flota moderna y variada lista para acompañarle 
            en su aventura por Costa Rica.
          </p>
          <p class="ubicaciones-description">
            También si busca vehículos de alquiler para hacer diligencias, movilizarse más cómodamente o cubrir sus necesidades mientras su vehículo está en 
            el taller, tenemos excelentes tarifas preferenciales y un robusto programa de cliente frecuente con beneficios exclusivos.
          </p>
          
          <!-- Mapa de Google -->
          <div class="mapa-container">
            <div id="map" class="google-map"></div>
          </div>
        </div>
      </section>

      <!-- SECCIÓN 3: DESTINOS -->
      <section id="destinos" class="destinos-section">
        <div class="container">
          <div class="section-header">
            <h2 class="section-title">Destinos Recomendados</h2>
          </div>

          <!-- Destinos Carousel -->
          <div class="destinos-carousel-container" v-if="destinos.length > 0">
            <!-- Carousel Navigation -->
            <button class="carousel-btn carousel-btn-prev" @click="prevSlide" :disabled="currentIndex === 0">
              <span class="arrow-left">‹</span>
            </button>
            
            <div class="carousel-wrapper" @click="toggleAutoSlide">
              <div class="carousel-track" :style="{ transform: `translateX(-${currentIndex * 100}%)` }">
                <div class="carousel-slide" v-for="(destino, index) in destinos" :key="destino.title">
                  <div class="destinos-content">
                    <div class="destinos-text">
                      <h3 class="destinos-title">{{ destino.title }}</h3>
                      <p class="destinos-description" v-html="formatDescription(destino.desc)"></p>
                      <a :href="destino.url" target="_blank" class="destinos-link">
                        Leer más <span class="arrow">→</span>
                      </a>
                    </div>
                    <div class="destinos-image">
                      <img 
                        :src="destino.img" 
                        :alt="destino.title" 
                        class="destinos-img"
                        @error="handleImageError"
                        @load="handleImageLoad"
                        loading="lazy"
                      >
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <button class="carousel-btn carousel-btn-next" @click="nextSlide" :disabled="currentIndex === destinos.length - 1">
              <span class="arrow-right">›</span>
            </button>
            
            <!-- Carousel Indicators -->
            <div class="carousel-indicators">
              <button 
                v-for="(destino, index) in destinos" 
                :key="index"
                class="indicator"
                :class="{ active: index === currentIndex }"
                @click="goToSlide(index)"
              ></button>
            </div>
          </div>

          <!-- Loading State -->
          <div v-if="loading" class="loading-state">
            <div class="spinner"></div>
            <p>Cargando destinos...</p>
          </div>

          <!-- Error State -->
          <div v-if="error" class="error-state">
            <p>Error al cargar los destinos: {{ errorMessage }}</p>
            <p>Revisa la consola para más detalles.</p>
          </div>
        </div>
      </section>

      <!-- SECCIÓN 4: RESERVAR-UNO -->
      <section id="reservar-uno" class="reserva-cta-section">
        <div class="reserva-background">
          <img src="assets/img/img-car-4.JPG" alt="Reserva tu vehículo" class="reserva-bg-image">
          <div class="reserva-overlay"></div>
        </div>
        <div class="reserva-content">
          <h2 class="reserva-title">
            Reservar un vehículo con nosotros<br>
            es tan sencillo como un clic
          </h2>
          <a href="#reservaciones" class="reserva-btn" style="text-decoration: none; display: inline-block;">Reservar ahora</a>
        </div>
      </section>

      <!-- SECCIÓN 5: CONSEJOS -->
      <section id="consejos" class="ubicaciones-section">
        <div class="ubicaciones-content">
          <h2 class="ubicaciones-title">Consejos para alquilar un vehículo en Costa Rica</h2>
          
          <!-- Consejos Lista Simple -->
          <div class="consejos-lista">
            
            <!-- Consejo 1 -->
            <div class="consejo-simple">
              <div class="consejo-bullet"></div>
              <div class="consejo-contenido">
                <h3>Documentación indispensable para rentar</h3>
                <p>Asegúrese de contar con licencia de conducir válida con al menos 1 año de antigüedad, cédula de identidad o pasaporte vigente, y tarjeta de crédito internacional a su nombre. La edad mínima requerida es de 21 años para vehículos estándar y 25 años para vehículos de lujo o SUVs.</p>
              </div>
            </div>

            <!-- Consejo 2 -->
            <div class="consejo-simple">
              <div class="consejo-bullet"></div>
              <div class="consejo-contenido">
                <h3>Elección del vehículo ideal</h3>
                <p>Considere el tipo de terreno que visitará y el número de pasajeros. Para playas y ciudad, un sedán es perfecto. Para montañas, volcanes y caminos rurales, opte por un SUV o 4x4. Nuestros vehículos cuentan con aire acondicionado, GPS y seguro completo incluido.</p>
              </div>
            </div>

            <!-- Consejo 3 -->
            <div class="consejo-simple">
              <div class="consejo-bullet"></div>
              <div class="consejo-contenido">
                <h3>Cobertura de seguro y protección</h3>
                <p>Todos nuestros vehículos incluyen seguro obligatorio contra terceros. Recomendamos la cobertura completa que incluye robo, colisión y daños por fenómenos naturales. Revise si su tarjeta de crédito ofrece cobertura adicional para evitar duplicar pagos.</p>
              </div>
            </div>

            <!-- Consejo 4 -->
            <div class="consejo-simple">
              <div class="consejo-bullet"></div>
              <div class="consejo-contenido">
                <h3>Rutas recomendadas en Costa Rica</h3>
                <p>Planifique su ruta considerando las distancias y condiciones climáticas. La Ruta de los Volcanes, el Circuito de Playas del Pacífico y la Aventura Caribeña son nuestras opciones más populares. Cada ruta está diseñada para maximizar su experiencia turística.</p>
              </div>
            </div>

            <!-- Consejo 5 -->
            <div class="consejo-simple">
              <div class="consejo-bullet"></div>
              <div class="consejo-contenido">
                <h3>Política de combustible y kilometraje</h3>
                <p>Entregamos todos los vehículos con tanque lleno y esperamos la devolución en las mismas condiciones. El kilometraje es ilimitado dentro del territorio nacional. Para viajes a Nicaragua o Panamá, consulte nuestras tarifas especiales y permisos requeridos.</p>
              </div>
            </div>

            <!-- Consejo 6 -->
            <div class="consejo-simple">
              <div class="consejo-bullet"></div>
              <div class="consejo-contenido">
                <h3>Inspección previa y documentación</h3>
                <p>Revise completamente el vehículo antes de partir. Documente con fotos cualquier rayón, abolladura o daño existente. Verifique que funcionen luces, frenos, dirección y sistemas de seguridad. Esta verificación le protege de responsabilidades adicionales.</p>
              </div>
            </div>

            <!-- Consejo 7 -->
            <div class="consejo-simple">
              <div class="consejo-bullet"></div>
              <div class="consejo-contenido">
                <h3>Contactos de emergencia y asistencia</h3>
                <p>Mantenga siempre disponible nuestro número de asistencia 24/7: 2233-4567. Para emergencias médicas marque 911, para tránsito 2222-9330. Incluimos servicio de grúa y mecánico de emergencia sin costo adicional en todo el país.</p>
              </div>
            </div>

            <!-- Consejo 8 -->
            <div class="consejo-simple">
              <div class="consejo-bullet"></div>
              <div class="consejo-contenido">
                <h3>Reservas anticipadas y tarifas especiales</h3>
                <p>Reserve con 15 días de anticipación y obtenga hasta 20% de descuento. Clientes frecuentes reciben beneficios adicionales como upgrade gratuito y servicios premium. Las reservas incluyen cancelación gratuita hasta 48 horas antes del retiro.</p>
              </div>
            </div>

          </div>
        </div>
      </section>

      <!-- SECCIÓN 6: RESERVACIONES -->
      <section id="reservaciones" class="ubicaciones-section">
        <div class="ubicaciones-content">
          <h2 class="ubicaciones-title">Reservaciones</h2>
          <p class="ubicaciones-description">
            Complete el formulario a continuación para realizar su reservación. <br>Nuestro equipo le contactará para confirmar los detalles y finalizar su reserva.
          </p>
          
          <!-- Formulario de Reservaciones -->
          <div class="reservaciones-form-container">
            <form class="reservaciones-form" id="reservaciones-form">
              
              <!-- Ubicación de recogida -->
              <div class="form-group">
                <label for="ubicacion-recogida">¿Dónde es su siguiente viaje?</label>
                <input type="text" id="ubicacion-recogida" name="ubicacion-recogida" placeholder="Recoger" required>
              </div>

              <!-- Checkbox regreso -->
              <div class="form-group checkbox-group">
                <label class="checkbox-label">
                  <input type="checkbox" id="regreso-misma-ubicacion" name="regreso-misma-ubicacion" checked>
                  <span class="checkmark"></span>
                  ¿Regresa a la misma ubicación?
                </label>
              </div>

              <!-- Residencia -->
              <div class="form-group radio-group">
                <label class="radio-group-title">¿Reside en Costa Rica?</label>
                <div class="radio-options">
                  <label class="radio-label">
                    <input type="radio" name="reside-costa-rica" value="si" checked>
                    <span class="radio-mark"></span>
                    Sí
                  </label>
                  <label class="radio-label">
                    <input type="radio" name="reside-costa-rica" value="no">
                    <span class="radio-mark"></span>
                    No
                  </label>
                </div>
              </div>

              <!-- Fechas -->
              <div class="form-row">
                <div class="form-group half-width">
                  <label for="fecha-inicio">¿Cuándo es su siguiente viaje?</label>
                  <input type="date" id="fecha-inicio" name="fecha-inicio" required>
                </div>
                <div class="form-group half-width">
                  <label for="fecha-fin">&nbsp;</label>
                  <input type="date" id="fecha-fin" name="fecha-fin" required>
                </div>
              </div>

              <!-- Horas -->
              <div class="form-row">
                <div class="form-group half-width">
                  <label for="hora-recogida">Hora a recoger</label>
                  <select id="hora-recogida" name="hora-recogida" required>
                    <option value="" disabled selected>Seleccionar hora</option>
                    <option value="06:00">06:00 AM</option>
                    <option value="07:00">07:00 AM</option>
                    <option value="08:00">08:00 AM</option>
                    <option value="09:00">09:00 AM</option>
                    <option value="10:00">10:00 AM</option>
                    <option value="11:00">11:00 AM</option>
                    <option value="12:00">12:00 PM</option>
                    <option value="13:00">01:00 PM</option>
                    <option value="14:00">02:00 PM</option>
                    <option value="15:00">03:00 PM</option>
                    <option value="16:00">04:00 PM</option>
                    <option value="17:00">05:00 PM</option>
                    <option value="18:00">06:00 PM</option>
                  </select>
                </div>
                <div class="form-group half-width">
                  <label for="hora-entrega">Hora a entregar</label>
                  <select id="hora-entrega" name="hora-entrega" required>
                    <option value="" disabled selected>Seleccionar hora</option>
                    <option value="06:00">06:00 AM</option>
                    <option value="07:00">07:00 AM</option>
                    <option value="08:00">08:00 AM</option>
                    <option value="09:00">09:00 AM</option>
                    <option value="10:00">10:00 AM</option>
                    <option value="11:00">11:00 AM</option>
                    <option value="12:00">12:00 PM</option>
                    <option value="13:00">01:00 PM</option>
                    <option value="14:00">02:00 PM</option>
                    <option value="15:00">03:00 PM</option>
                    <option value="16:00">04:00 PM</option>
                    <option value="17:00">05:00 PM</option>
                    <option value="18:00">06:00 PM</option>
                  </select>
                </div>
              </div>

              <!-- Botón buscar -->
              <div class="form-submit">
                <button type="submit" class="reserva-btn form-btn">Buscar</button>
              </div>

            </form>
          </div>
        </div>
      </section>
    </main>

    <!-- PIE DE PÁGINA -->
    <footer id="footer">
        <div class="footer-top">
            <div class="container">
                <div class="row">
                    <!-- Información de la empresa -->
                    <div class="col-lg-4 col-md-6">
                        <div class="footer-info">
                            <h3>WHY NOT RENT</h3>
                            <p>Aeropuerto Juan Santamaría<br>
                               Alajuela, Costa Rica<br><br>
                               <strong>Teléfono:</strong> +506 2437 8888<br>
                               <strong>Email:</strong> info@whynotrent.cr<br>
                            </p>
                            <div class="social-links mt-3">
                                <a href="#" class="twitter"><i class="bx bxl-twitter"></i></a>
                                <a href="#" class="facebook"><i class="bx bxl-facebook"></i></a>
                                <a href="#" class="instagram"><i class="bx bxl-instagram"></i></a>
                                <a href="#" class="whatsapp"><i class="bx bxl-whatsapp"></i></a>
                                <a href="#" class="linkedin"><i class="bx bxl-linkedin"></i></a>
                            </div>
                        </div>
                    </div>

                    <!-- Enlaces útiles -->
                    <div class="col-lg-4 col-md-6">
                        <div class="footer-links">
                            <h4>Enlaces Útiles</h4>
                            <ul>
                                <li><i class="bx bx-chevron-right"></i> <a href="#inicio">Inicio</a></li>
                                <li><i class="bx bx-chevron-right"></i> <a href="#porque-nosotros">Por qué nosotros</a></li>
                                <li><i class="bx bx-chevron-right"></i> <a href="#vehiculos">Vehículos</a></li>
                                <li><i class="bx bx-chevron-right"></i> <a href="#consejos">Consejos</a></li>
                                <li><i class="bx bx-chevron-right"></i> <a href="#reservaciones">Reservaciones</a></li>
                            </ul>
                        </div>
                    </div>

                    <!-- Nuestros servicios -->
                    <div class="col-lg-4 col-md-6">
                        <div class="footer-links">
                            <h4>Nuestros Servicios</h4>
                            <ul>
                                <li><i class="bx bx-chevron-right"></i> <a href="#">Renta de Autos</a></li>
                                <li><i class="bx bx-chevron-right"></i> <a href="#">Renta de SUVs</a></li>
                                <li><i class="bx bx-chevron-right"></i> <a href="#">Seguros Vehiculares</a></li>
                                <li><i class="bx bx-chevron-right"></i> <a href="#">GPS y Extras</a></li>
                                <li><i class="bx bx-chevron-right"></i> <a href="#">Asistencia 24/7</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Copyright -->
        <div class="container">
            <div class="copyright">
                &copy; Copyright <strong><span>Why Not Rent</span></strong>. Todos los Derechos Reservados
            </div>
            <div class="credits">
                Diseñado por <a href="htmls/autor.html">Joshep & Johan</a>
            </div>
        </div>
    </footer>
  </div>

  <!-- Vue.js App -->
  <script>
    const { createApp } = Vue;

    createApp({
      data() {
        return {
          destinos: [],
          loading: true,
          error: false,
          errorMessage: '',
          currentIndex: 0,
          autoSlideInterval: null,
          isAutoSlideActive: true
        }
      },
      async mounted() {
        await this.fetchDestinos();
        this.startAutoSlide();
      },
      beforeUnmount() {
        this.stopAutoSlide();
      },
      methods: {
        async fetchDestinos() {
          try {
            this.loading = true;
            this.error = false;
            
            console.log('Iniciando carga de destinos...');
            const response = await fetch('https://boperzen.github.io/Blogs-JSON/blogs.json');
            
            if (!response.ok) {
              throw new Error(`Error HTTP: ${response.status}`);
            }
            
            this.destinos = await response.json();
            console.log('Destinos cargados exitosamente:', this.destinos.length, 'elementos');
            console.log('Primera imagen URL:', this.destinos[0]?.img);
            console.log('¿La imagen está disponible?', this.destinos[0]?.img ? 'Sí' : 'No');
            
            // Precargar la primera imagen
            if (this.destinos[0]?.img) {
              const img = new Image();
              img.onload = () => console.log('Primera imagen precargada exitosamente');
              img.onerror = () => console.error('Error al precargar primera imagen');
              img.src = this.destinos[0].img;
            }
            
          } catch (error) {
            console.error('Error detallado al cargar destinos:', error);
            console.error('Tipo de error:', error.name);
            console.error('Mensaje de error:', error.message);
            this.error = true;
            this.errorMessage = error.message || 'Error desconocido';
          } finally {
            this.loading = false;
          }
        },
        nextSlide() {
          if (this.currentIndex < this.destinos.length - 1) {
            this.currentIndex++;
          } else {
            this.currentIndex = 0; // Loop to first slide
          }
          this.resetAutoSlide();
        },
        prevSlide() {
          if (this.currentIndex > 0) {
            this.currentIndex--;
          } else {
            this.currentIndex = this.destinos.length - 1; // Loop to last slide
          }
          this.resetAutoSlide();
        },
        goToSlide(index) {
          this.currentIndex = index;
          this.resetAutoSlide();
        },
        startAutoSlide() {
          if (this.isAutoSlideActive) {
            this.autoSlideInterval = setInterval(() => {
              this.nextSlide();
            }, 5000); // Change slide every 5 seconds
          }
        },
        stopAutoSlide() {
          if (this.autoSlideInterval) {
            clearInterval(this.autoSlideInterval);
            this.autoSlideInterval = null;
          }
        },
        toggleAutoSlide() {
          this.isAutoSlideActive = !this.isAutoSlideActive;
          if (this.isAutoSlideActive) {
            console.log('Auto-slide activado');
            this.startAutoSlide();
          } else {
            console.log('Auto-slide pausado');
            this.stopAutoSlide();
          }
        },
        resetAutoSlide() {
          if (this.isAutoSlideActive) {
            this.stopAutoSlide();
            this.startAutoSlide();
          }
        },
        handleImageError(event) {
          console.log('Error cargando imagen, usando placeholder');
          // Usar directamente un placeholder local
          event.target.src = 'assets/img/img-car-1.jpg';
        },
        handleImageLoad(event) {
          console.log('Imagen cargada exitosamente:', event.target.src);
          event.target.classList.add('loaded');
          event.target.classList.remove('error');
        },
        formatDescription(description) {
          if (!description) return '';
          // Reemplazar cada punto seguido de espacio por punto + <br>
          return description.replace(/\.\s/g, '.<br>');
        }
      }
    }).mount('#app');
  </script>

  <!-- SCRIPTS MODULARIZADOS -->
  <!-- Utilidades base -->
  <script src="scripts/scripts-base/utilities.js"></script>
  <!-- Servicios y almacenamiento -->
  <script src="scripts/scripts-base/services.js"></script>
  <!-- Navegación -->
  <script src="scripts/scripts-base/navigation.js"></script>
  <!-- Elementos interactivos -->
  <script src="scripts/scripts-base/interactive-elements.js"></script>
  <!-- Manejadores de eventos -->
  <script src="scripts/scripts-base/event-handlers.js"></script>
  <!-- Carousel -->
  <script src="scripts/carousel.js"></script>
  <!-- Script principal -->
  <script src="scripts/script.js"></script>
  
  <!-- Configuración de variables de entorno -->
  <script src="scripts/config.js"></script>
  
  <!-- Google Maps API -->
  <script src="scripts/APIGoogle.js"></script>
  <!-- Scripts -->
  <script src="scripts/smooth-scroll.js"></script>

  <!-- Google Maps script se carga dinámicamente desde config.js -->
  <script>
    // Cargar Google Maps API con la configuración segura
    document.addEventListener('DOMContentLoaded', function() {
      loadGoogleMapsScript();
    });
  </script>
</body>

</html>
